<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puolustusvoimat & Combat Camera</title>

    <!-- GOOGLE ANALYTICS & CLARITY -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JTMFLZTH9R"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-JTMFLZTH9R', { 'anonymize_ip': true });
    </script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "ud6y4jpngh");
    </script>

    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Arial',sans-serif;background:#1a1a1a;color:#fff;line-height:1.6;overflow-x:hidden}
        header{background:#000;padding:15px 20px;text-align:center;position:fixed;width:100%;top:0;z-index:1000;backdrop-filter:blur(10px)}
        nav a{color:#fff;text-decoration:none;margin:0 15px;font-size:1.2em;position:relative;transition:.3s}
        nav a:hover{color:#4ade80}
        nav a::after{content:'';position:absolute;bottom:-6px;left:50%;transform:translateX(-50%);width:0;height:2px;background:#4ade80;transition:width .3s}
        nav a:hover::after{width:100%}

        #home{position:relative;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;overflow:hidden}
        #home video{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1}
        #home h2{font-size:clamp(2.5rem,8vw,4.5rem);text-shadow:0 0 40px rgba(0,0,0,.9)}

        .gallery{
            display:grid;
            grid-template-columns:repeat(auto-fit, minmax(340px, 1fr));
            gap:30px;
            max-width:1400px;
            margin:100px auto;
            padding:0 20px;
        }
        .gallery-item{
            position:relative;
            height:220px;
            border-radius:16px;
            overflow:hidden;
            box-shadow:0 10px 30px rgba(0,0,0,.7);
            cursor:pointer;
            opacity:0;
            transform:translateX(-80px);
            transition:all 0.7s cubic-bezier(0.25,0.46,0.45,0.94);
        }
        .gallery-item.visible{opacity:1;transform:translateX(0)}
        .gallery-item img{width:100%;height:100%;object-fit:cover}
        .gallery-item::after{content:'‚ñ∂';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3.5rem;color:#fff;opacity:0;transition:opacity .3s}
        .gallery-item:hover::after{opacity:0.8}
        .gallery-item:hover{transform:scale(1.05)}

        /* VAIHTUVA YKSITT√ÑINEN KUVA */
        .hero-image-container{
            max-width:600px;
            margin:80px auto 40px;
            border-radius:20px;
            overflow:hidden;
            box-shadow:0 15px 50px rgba(0,0,0,.9);
            position:relative;
            aspect-ratio:1/1.3;
        }
        .hero-slide{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity 1.2s ease}
        .hero-slide.active{opacity:1}
        .hero-slide img{width:100%;height:100%;object-fit:cover}

        /* 3-KUVAN KARUSELLI ALAPUOLELLA */
        .triple-carousel{
            display:grid;
            grid-template-columns:repeat(auto-fit, minmax(300px,1fr));
            gap:30px;
            max-width:1400px;
            margin:60px auto;
            padding:0 20px;
        }
        .carousel-item{
            border-radius:16px;
            overflow:hidden;
            box-shadow:0 10px 30px rgba(0,0,0,.7);
            position:relative;
            aspect-ratio:16/9;
        }
        .carousel-slide{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity 1s ease}
        .carousel-slide.active{opacity:1}
        .carousel-slide img{width:100%;height:100%;object-fit:cover}

        .about-section{max-width:1200px;margin:100px auto;display:flex;align-items:center;gap:60px;flex-wrap:wrap;padding:0 20px}
        .about-image{flex:1;min-width:300px;max-width:500px;border-radius:20px;overflow:hidden;box-shadow:0 15px 50px rgba(0,0,0,.9)}
        .about-image img{width:100%;display:block}
        .about-text{flex:1.5;min-width:300px;font-size:1.35rem;color:#e0e0e0;line-height:1.8}
        .btw-text{margin-top:40px;font-size:1.2rem;color:#bbb}

        .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.95);z-index:2000;align-items:center;justify-content:center;padding:20px}
        .modal-content{width:100%;max-width:1000px;aspect-ratio:16/9;border-radius:16px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.8)}
        .modal-content iframe{width:100%;height:100%;border:none}
        .close{position:absolute;top:30px;right:40px;font-size:3rem;color:#fff;cursor:pointer;opacity:0.8}
        .close:hover{opacity:1}

        footer{background:#000;padding:40px 20px;text-align:center;border-top:1px solid #333}

        @media(max-width:992px){.about-section{flex-direction:column;text-align:center}}
        @media(max-width:600px){.gallery,.triple-carousel{grid-template-columns:1fr}}
    </style>
</head>
<body>

    <header>
        <nav>
            <a href="indexi.html">Koti</a>
            <a href="portfolio.html">Portfolio</a>
            <a href="valokuvaus.html">Valokuvaus</a>
            <a href="yhteystiedot.html">Yhteystiedot</a>
            <a href="puolustusvoimat.html">Puolustusvoimat</a>
        </nav>
    </header>

    <section id="home">
        <video autoplay muted loop playsinline poster="pv-poster.jpg">
            <source src="tst_testi_footgae.mp4" type="video/mp4">
        </video>
        <h2>Puolustusvoimat & Combat Camera</h2>
    </section>

    <!-- VAIHTUVA P√Ñ√ÑKUVA -->
    <div class="hero-image-container">
        <div class="hero-slide active"><img src="IivariKortesoja1.jpg" alt="Iivari 1"></div>
        <div class="hero-slide"><img src="IivariKortesoja2.jpg" alt="Iivari 2"></div>
        <div class="hero-slide"><img src="IivariKortesoja3.jpg" alt="Iivari 3"></div>
    </div>

    <!-- UUSI 3-KUVAN KARUSELLI -->
    <div class="triple-carousel">
        <div class="carousel-item">
            <div class="carousel-slide active"><img src="https://picsum.photos/800/450?random=10" alt="1"></div>
            <div class="carousel-slide"><img src="https://picsum.photos/800/450?random=11" alt="2"></div>
            <div class="carousel-slide"><img src="https://picsum.photos/800/450?random=12" alt="3"></div>
        </div>
        <div class="carousel-item">
            <div class="carousel-slide active"><img src="https://picsum.photos/800/450?random=20" alt="4"></div>
            <div class="carousel-slide"><img src="https://picsum.photos/800/450?random=21" alt="5"></div>
            <div class="carousel-slide"><img src="https://picsum.photos/800/450?random=22" alt="6"></div>
        </div>
        <div class="carousel-item">
            <div class="carousel-slide active"><img src="https://picsum.photos/800/450?random=30" alt="7"></div>
            <div class="carousel-slide"><img src="https://picsum.photos/800/450?random=31" alt="8"></div>
            <div class="carousel-slide"><img src="https://picsum.photos/800/450?random=32" alt="9"></div>
        </div>
    </div>

    <!-- THUMBNAIL-GALLERIA -->
    <section class="gallery">
        <div class="gallery-item" data-video-id="91wex5Lgolc"><img src="thumbnail1.jpg" alt="Combat Camera 1"></div>
        <div class="gallery-item" data-video-id="GLP9QxcEbXk"><img src="thumbnail2.jpg" alt="Combat Camera 2"></div>
        <div class="gallery-item" data-video-id="3AwEUP7o0qc"><img src="thumbnail3.jpg" alt="Combat Camera 3"></div>
        <div class="gallery-item" data-video-id="F-2a-c5J2ms"><img src="thumbnail4.jpg" alt="Combat Camera 4"></div>
        <div class="gallery-item" data-video-id="82S6evKfyPY"><img src="thumbnail5.jpg" alt="Combat Camera 5"></div>
        <div class="gallery-item" data-video-id="dQw4w9WgXcQ"><img src="thumbnail6.jpg" alt="Rick Astley üòà"></div>
    </section>

    <!-- ESITTELYOSIO -->
    <div class="about-section">
        <div class="about-image">
            <img src="iivari.JPG" alt="Iivari">
        </div>
        <div class="about-text">
            <p>Palvelukseni Puolustusvoimissa oli unelma, jota en olisi uskonut kokevani. P√§√§sin valtakunnallisessa erityisteht√§v√§haussa <strong>Combat Cameraan</strong>.</p>
            <p>Ty√∂skentely vaativissa olosuhteissa testasi fyysist√§ ja psyykkist√§ kest√§vyytt√§ni √§√§rimmilleen. Viikot metsiss√§ ymp√§ri Suomea ‚Äì kuvaten ja taistellen suomalaisten sek√§ ulkomaalaisten joukkojen kanssa harjoituksissa ‚Äì olivat √§√§rimm√§isen palkitsevia ja opettavaisia.</p>
            <p class="btw-text">
                Olen my√∂s ty√∂skennellyt Puolustusvoimilla videotuotannoissa jo ennen varusmiespalvelustani. Teht√§viin on kuulunut kuvaamista, editointia ja monikameratuotantoja.
            </p>
        </div>
    </div>

    <!-- MODAALI -->
    <div class="modal" id="videoModal">
        <span class="close">√ó</span>
        <div class="modal-content">
            <iframe id="youtubePlayer" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
    </div>

    <footer>
        <p>¬© Iivari Kortesoja 2025 | Y-tunnus A38904</p>
    </footer>

    <script>
        // Taustavideo
        const bgVideo = document.querySelector('#home video');
        new IntersectionObserver(e => e.forEach(en => en.isIntersecting ? bgVideo.play() : bgVideo.pause()), {threshold: 0.5})
            .observe(document.getElementById('home'));

        // Thumbnail-animaatio
        const thumbnails = document.querySelectorAll('.gallery-item');
        const thumbObserver = new IntersectionObserver((entries) => {
            entries.forEach((entry, i) => {
                if (entry.isIntersecting) {
                    setTimeout(() => entry.target.classList.add('visible'), i * 120);
                    thumbObserver.unobserve(entry.target);
                }
            });
        }, {threshold: 0.2});
        thumbnails.forEach(t => thumbObserver.observe(t));

        // Hero-kuvakaruselli (vaihtuu 4s v√§lein)
        const heroSlides = document.querySelectorAll('.hero-image-container .hero-slide');
        let heroIndex = 0;
        setInterval(() => {
            heroSlides[heroIndex].classList.remove('active');
            heroIndex = (heroIndex + 1) % heroSlides.length;
            heroSlides[heroIndex].classList.add('active');
        }, 4000);

        // 3-kuvan karusellit (vaihtuvat 3s v√§lein)
        document.querySelectorAll('.carousel-item').forEach(item => {
            const slides = item.querySelectorAll('.carousel-slide');
            let idx = 0;
            setInterval(() => {
                slides[idx].classList.remove('active');
                idx = (idx + 1) % slides.length;
                slides[idx].classList.add('active');
            }, 3000);
        });

        // Modaali
        const modal = document.getElementById('videoModal');
        const iframe = document.getElementById('youtubePlayer');
        const closeBtn = document.querySelector('.close');

        document.querySelectorAll('.gallery-item').forEach(item => {
            item.addEventListener('click', () => {
                const videoId = item.getAttribute('data-video-id');
                iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
        });

        closeBtn.onclick = modal.onclick = () => {
            modal.style.display = 'none';
            iframe.src = '';
            document.body.style.overflow = '';
        };

        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeBtn.click();
        });
    </script>
</body>
</html>
