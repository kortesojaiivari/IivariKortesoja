<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iivari Kortesoja</title>

    <!-- GOOGLE ANALYTICS 4 – KORVAA G-XXXXXXX OMALLASI -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-JTMFLZTH9R', { 'anonymize_ip': true });
    </script>

    <!-- MICROSOFT CLARITY – KORVAA xxxxxxxx OMALLASI -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "ud6y4jpngh");
    </script>

    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Arial',sans-serif}
        body{background:#1a1a1a;color:#fff;line-height:1.6;overflow-x:hidden}
        header{background:#000;padding:20px;text-align:center;position:fixed;width:100%;top:0;z-index:1000}
        nav{margin-top:20px}
        nav a{color:#fff;text-decoration:none;margin:0 20px;font-size:1.2em;transition:.3s;position:relative}
        nav a:hover{color:#4ade80}
        nav a::after{content:'';position:absolute;bottom:-2px;left:50%;transform:translateX(-50%);width:0;height:2px;background:#4ade80;transition:width .3s ease}
        nav a:hover::after{width:100%}

        section{padding:100px 20px 80px;display:flex;flex-direction:column;align-items:center;justify-content:center}
        #home{position:relative;overflow:hidden;text-align:center;min-height:100vh}
        #home video{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1}
        #home h2{font-size:3.5em;margin-bottom:20px;text-shadow:0 0 30px rgba(0,0,0,.8)}

        #portfolio{text-align:center}
        .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:25px;max-width:1300px;margin:60px auto}
        .gallery-item{background:#222;height:220px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.4em;color:#aaa;cursor:pointer}
        .gallery-item:hover{transform:scale(1.05)}

        #about{display:flex;align-items:flex-start;gap:40px;max-width:1200px;margin:0 auto;flex-wrap:wrap}
        .about-image{width:300px;height:400px;object-fit:cover;border-radius:12px}
        #about .about-text{flex:1;min-width:300px;font-size:1.3em;color:#e0e0e0}

        .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);z-index:2000;align-items:center;justify-content:center}
        .modal-content{width:90%;max-width:900px;aspect-ratio:16/9;background:#000;border-radius:12px;overflow:hidden}
        .modal-content iframe{width:100%;height:100%;border:none}

        footer{background:#000;text-align:center;padding:25px}

        @media(max-width:768px){
            nav a{font-size:1em;margin:0 10px}
            #home h2{font-size:2.5em}
            #about{flex-direction:column;align-items:center}
            .about-image{width:100%;max-width:300px;height:auto}
        }
    </style>
</head>
<body>
  <header>
        <nav>
            <a href="indexi.html">Koti</a>
            <a href="portfolio.html">Portfolio</a>
            <a href="yhteystiedot.html">Yhteystiedot</a>
            <a href="puolustusvoimat.html">Puolustusvoimat</a>
        </nav>
    </header>

    <section id="home">
        <video id="background-video" autoplay muted loop playsinline>
            <source src="tst_testi_footgae.mp4" type="video/mp4">
        </video>
        <h2>Puolustusvoimat ja Combat Camera</h2>
    </section>

    <section id="portfolio">
        <div class="gallery">
            <div class="gallery-item" data-video-id="91wex5Lgolc"><img src="thumbnail1.jpg" alt="Thumbnail 1"></div>
            <div class="gallery-item" data-video-id="GLP9QxcEbXk"><img src="thumbnail2.jpg" alt="Thumbnail 2"></div>
            <div class="gallery-item" data-video-id="3AwEUP7o0qc"><img src="thumbnail3.jpg" alt="Thumbnail 3"></div>
            <div class="gallery-item" data-video-id="F-2a-c5J2ms"><img src="thumbnail4.jpg" alt="Thumbnail 4"></div>
            <div class="gallery-item" data-video-id="82S6evKfyPY"><img src="thumbnail5.jpg" alt="Thumbnail 5"></div>
            <div class="gallery-item" data-video-id="placeholder6"><img src="thumbnail6.jpg" alt="Thumbnail 6"></div>
        </div>
    </section>

    <section id="about">
        <img src="iivari.JPG" alt="Iivari Kortesoja" class="about-image">
        <div class="about-text">
            <p>Palvelukseni Puolustusvoimissa oli unelma, jota en olisi uskonut kokevani. Pääsin valtakunnallisessa erityistehtävähaussa Combat Cameraan. Työskentely vaativissa olosuhteissa testasi fyysistä ja psyykkistä kestävyyttäni haastavissa ympäristöissä. Sekä opetti tehokkuuden maksimoinnin eri tuotannoissa. Viikot metsissä eri puolilla Suomea, kuvaten ja taistellen suomalaisten ja ulkomaalaisten joukkojen kanssa harjoituksissa, olivat äärimmäisen palkitsevia.</p>
        </div>
    </section>

    <div class="modal" id="videoModal">
        <div class="modal-content">
            <iframe id="youtubePlayer" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
    </div>

    <footer>
        <p>© Iivari Kortesoja 2025 Y-Tunnus A38904</p>
    </footer>

    <script>
        // Taustavideo
        const bgVideo = document.getElementById('background-video');
        const homeSection = document.getElementById('home');
        const observer = new IntersectionObserver(e => e.forEach(en => en.isIntersecting ? bgVideo.play() : bgVideo.pause()), {threshold:0.1});
        observer.observe(homeSection);

        // Videomodaali
        const modal = document.getElementById('videoModal');
        const youtubePlayer = document.getElementById('youtubePlayer');
        const galleryItems = document.querySelectorAll('.gallery-item');

        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
                const videoId = item.getAttribute('data-video-id');
                youtubePlayer.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
                modal.style.display = 'flex';
            });
        });

        modal.addEventListener('click', e => {
            if (e.target === modal) {
                youtubePlayer.src = '';
                modal.style.display = 'none';
            }
        });

        // Galleria-animaatio
        const gallery = document.querySelector('.gallery');
        const galleryObserver = new IntersectionObserver(e => {
            e.forEach(en => {
                if (en.isIntersecting) {
                    galleryItems.forEach(item => item.classList.add('animate'));
                    galleryObserver.unobserve(gallery);
                }
            });
        }, {threshold:0.1});
        galleryObserver.observe(gallery);
    </script>
</body>
</html>
